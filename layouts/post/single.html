{{ define "style"}}{{ end }}
{{ define "title"}}{{ .Title }}{{ end }}

{{ define "header"}}{{ partial "site-header" . }}{{ end }}
{{ define "featured-image"}}
  {{ $img := (.Resources.ByType "image").GetMatch "*featured*" }}
  {{ with $img }}
  <div class="single-featured-image-header">
    <img src="{{ .Permalink }}" alt="{{ $.Title }}">
  </div> <!-- .post-thumbnail -->
  {{ end }}
{{ end }}

{{ define "main" }}
{{ template "_internal/schema.html" . }}
<section class="section blog" itemscope itemtype="http://schema.org/BlogPosting">
<article class="post type-post status-publish format-standard has-post-thumbnail hentry">
  <header class="entry-header">
    <div class="entry-title">
      <h1 class="entry-title" itemprop="headline">{{ .Title }}</h1>
      {{ if .Description }}
        <span itemprop="description"><em>{{ .Description }}</em></span>
      {{ end }}
    </div> <!-- .entry-title -->
    <div class="entry-meta">
      {{ partial "post/meta" . }}
    </div> <!-- .entry-meta -->
  </header> <!-- .entry-header -->
  <div class="entry-content">
    {{ partial "toc" . }}
    {{.Content}}
  </div> <!-- .entry-content -->
  <footer class="entry-footer">
    <span class="cat-tags-links">
      <span class="cat-links"><i class="icon fa fa-folder-open" aria-hidden="true"></i>
        <span class="screen-reader-text">{{ i18n "categoriesTitle" }}</span>
        {{ with .Params.categories }}
          <span>{{ delimit (apply (apply (sort .) "partial" "post/category-link" ".") "chomp" ".") ", " }}</span>
        {{ end }}
      </span>
      <span class="tags-links"><i class="icon fa fa-hashtag" aria-hidden="true"></i>
        <span class="screen-reader-text">{{ i18n "tagsTitle" }}</span>
        {{ with .Params.tags }}
          <span>{{ delimit (apply (apply (sort .) "partial" "post/tag-link" ".") "chomp" ".") ", " }}</span>
        {{ end }}
      </span>
    </span>
    <div class="title is-4">
      {{ partial "post/related-content" . }}
    </div>
  </footer> <!-- .entry-footer -->
</article>
</section>

{{ end }}

{{ define "footer" }}{{ partial "footer" . }}{{ end }}
